Write a function to detect if a list is a palindrome, implement for both single and doubly linked lists.
